<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<TITLE>Теория к лаб. работе N 2.2</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1251">
<link REL="stylesheet" TYPE="text/css" HREF="mstyle.css">
</HEAD>
<BODY>

<h2>Модель событий JavaScript</h2>
<p>Использование языка JavaScript при обработке событий значительно расширило возможности языка HTML. 
Чаще всего программы создаются для обработки информации, вводимой пользователем в поля форм. 
Возможности управления элементами форм обеспечиваются главным образом за счет функций обработки событий, 
которые могут быть заданы для всех элементов формы.</p>
<p>Чтобы обеспечить перехват события, необходимо написать функцию-обработчик события. 
В качестве обработчиков событий могут быть задану целые функции языка JavaScript или 
только группы из одного или нескольких JS-операторов.</p>

<p>Самый привычный способ передачи события элементу - это объявление названия функции в теге элемента. 
Заметим, что нам нужно записать не просто "handler", а "handler()" для соответствия синтаксической конструкции JavaScript. 
В HTML документе это будет выглядеть так:</p>

<table><tr><td bgcolor=aqua><pre>
&lt;h2 onClick="handler()"&gt;
Текст, реагирующий на событие
&lt;/h2&gt;
...
&lt;script language="JavaScript"&gt;
function handler() 
{
    alert('Ты щелкнул Текст!');
}
&lt;/script&gt;</pre></td></tr></table><br>

<p>Естественно, тело функции handler() можно расположить и внутри тега HEAD.</p>
<p>Кроме того, можно подключить код обработки внутри тега элемента. При этом используется такая конструкция:</p>

<table><tr><td bgcolor=aqua><pre>
&lt;h2 language="JavaScript" onClick="alert('Ты щелкнул Текст!');"&gt;
Текст, реагирующий на событие
&lt;/h2&gt;</pre></td></tr></table><br>

<p>Как вы уже догадались, событие <strong>Click</strong> происходит при щелчке мышью на элементе формы или другом объекте.</p>

<h2>Функции setTimeout и clearTimeout</h2>
<h3>Метод setTimeout</h3>
<p>С помощью метода setTimeout вы можете установить таймер, указав при этом выражение JavaScript и задержку во времени:</p>

<table><tr><td bgcolor=aqua><pre>
idTimer=setTimeout(cmd, timeout);</pre></td></tr></table><br>

<p>Метод setTimeout создает и запускает таймер, возвращая его идентификатор. Когда пройдет время, заданное вторым параметром timeout (в миллисекундах), запускается выражение JavaScript, заданное параметром cmd.</p>
<p>Рассмотрим такой фрагмент сценария:</p>

<table><tr><td bgcolor=aqua><pre>
var cmd="NoAccess()";
idTimer=window.setTimeout(cmd, 10000);</pre></td></tr></table><br>

<p>Здесь мы создаем таймер с временем задержки 10 секунд. После прошествия этого времени будет вызвана функция с именем NoAccess, которая должна быть определена в сценарии заранее. Эта функция будет выполнена только один раз.</p>

<p>Одно из применений метода setTimeout - создание анимационных эффектов в сценарии JavaScript. Допустим, имеется набор картинок img_x.gif, где x - порядковый номер картинки. Для того, чтобы периодически менять изображение, создавая эффект анимации,
достаточно использовать следующий код:</p>

<table><tr><td bgcolor=aqua><pre>
&lt;img name="animation" src="img_1.gif" onLoad="setTimeout('animate()', delay)"&gt;</pre></td></tr></table><br>

<p>Новое для нас здесь - обработка события <strong>Load</strong>, происходящего после полной загрузки изображения.
Таким образом, после загрузки изображения с помощью setTimeout указывается, что по прошествии delay милисекунд должна
вызваться функция <strong>animate()</strong>. В этой функции достаточно изменить свойство <strong>src</strong> 
объекта-картинки <strong>animation</strong> для указания следующего изображения. Когда это изображение загрузится, 
опять произойдет событие <strong>Load</strong>, вновь установится таймер вызовом setTimeout и т.д.

<h3>Метод clearTimeout</h3>

<p>С помощью метода clearTimeout можно остановить таймер, запущенный только что рассмотренным методом setTimeout. В качестве параметра методу clearTimeout необходимо передать идентификатор таймера, полученный от метода setTimeout:</p>

<table><tr><td bgcolor=aqua><pre>
clearTimeout(idTimer);</pre></td></tr></table><br>

</body></html>