<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<TITLE>Теория к лаб. работе N 2.14</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1251">
<link REL="stylesheet" TYPE="text/css" HREF="mstyle.css">
</HEAD>
<BODY>

<H2>Операторы манипулирования объектами</H2> 

<p>JavaScript имеет способы управления объектами: операторы <B>for...in</B>, <B>new</B>, <B>this</B>  и <B>with</B>. </p>
<ul>
<li><a href="#1">Оператор  for...in</a>;</li>
<li><a href="#2">Оператор new</a>;</li>
<li><a href="#3">Ключевое слово this</a>;</li>
<li><a href="#3">Оператор with</a>;</li>
</ul>

<a name="1">
<H3>Оператор  for...in</H3></a>
<p>Оператор <B>for...in</B> присваивает переменной поочередно все свойства объекта. Для каждого свойства JavaScript выполняет указанные утверждения. Оператор <B>for...in</B> выглядит следующим образом: </p>
<table><tr><td bgcolor=aqua><pre>
for (variable in object) 
{   statements; 
}</pre></td></tr></table>

<P>
<B>Пример.</B> Следующая функция берет как аргумент объект и имя объекта. Затем проходится по всем свойствам объекта и возвращает строку, в которую внесен список имен свойств и их значений. </P>
<table><tr><td bgcolor=aqua><pre>
function dump_props(obj, obj_name) 
{
   var result = "";
   for (var i in obj) 
   {
      result += obj_name + "." + i + " = " + obj[i] + "&lt;BR&gt;";
   }
   result += "&lt;HR&gt;";
   return result;
}</pre></td></tr></table>

<a name="2">
<H3>Оператор new</H3> </a>
<P>
Оператор <B>new</B> позволяет вам создавать образец определяемого пользователем типа объекта. Используйте <b>new</b> следующим образом:</P>
<table><tr><td bgcolor=aqua><pre>
ObjectName = <B>new</B> objectType (param1 [, param2]  ... [, paramN]);</pre></td></tr></table>

<a name="3">
<H3>Ключевое слово this</H3> </a>
<P>
Используйте <B>this</B>, чтобы обратиться к текущему объекту. Вообще, <B>this</B> обращается к вызывающему объекту в методе. Используйте <B>this</B> следующим образом: </P>
<table><tr><td bgcolor=aqua><pre>
this [.propertyName];</pre></td></tr></table> 
<P>
<B>Пример.</B> Пусть функция, названная <I>validate</I>, проверяет правильность свойства значения объекта: </P>
<table><tr><td bgcolor=aqua><pre>
function validate(obj, lowval, hival) 
{
   if ((obj.value < lowval) || (obj.value > hival))
      alert("Invalid Value!");
}</pre></td></tr></table> 

<P>
Вы можете вызывать <I>validate</I> в каждом элементе формы обработчика событий onChange, используя <B>this</B>, как показано в следующем примере: </P>
<table><tr><td bgcolor=aqua><pre><xmp>
Enter a number between 18 and 99:
<INPUT TYPE = "text" NAME = "age" SIZE = 3 onChange="validate(this, 18, 99)"></xmp></pre></td></tr></table> 

<a name="4">
<H3>Оператор with</H3> </a>
<P>
Оператор <B>with</B> устанавливает объект для набора утверждений. Внутри набора утверждений, любые ссылки на свойства без явного указания объекта предпологают объект по умолчанию. Оператор <B>with</B> выглядит следующим образом: </P>
<table><tr><td bgcolor=aqua><pre>
<B>with</B> (object)
{
    statements;
}</pre></td></tr></table> 
<P>
<B>Пример.</B> Следующий оператор <B>with</B> определяет объект Math. Следующие утверждения  оператором <B>with</B>  обращаются к свойству PI и методам cos и sin, без определения объекта Math. </P>
<table><tr><td bgcolor=aqua><pre>
var a, x, y
var r=10
with (Math) 
{
   a = PI * r * r
   x = r * cos(PI)
   y = r * sin(PI/2)
}</pre></td></tr></table> 

</BODY>
</HTML>

